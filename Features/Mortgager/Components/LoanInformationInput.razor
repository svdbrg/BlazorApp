@using Data
@using System.Globalization

<MudForm>
    <MudNumericField Immediate="true" Disabled="@(!canEdit)" OnBlur="onSaveChanges" Label="Purchase price" Format="C0" Culture="@_sv" T="double"
        @bind-Value="mortgage.PurchasePrice" HelperText="@mortgage.PurchasePrice.ToString()" />

    <MudNumericField Immediate="true" Disabled="@(!canEdit)" OnBlur="onSaveChanges" Label="Down payment" Format="C0" Culture="@_sv" T="double"
        @bind-Value="mortgage.DownPayment" HelperText="@mortgage.DownPayment.ToString()" />

    
    <MudTextField T="double" Disabled="@(!canEdit)" OnBlur="onSaveChanges" Label="Interest rate %"
        @bind-Value="mortgage.InterestRate" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Percent" />

    <MudNumericField Immediate="true" Disabled="@(!canEdit)" OnBlur="onSaveChanges" Label="Total monthly salary" Format="C0" Culture="@_sv" T="double"
        @bind-Value="mortgage.TotalSalary" HelperText="@mortgage.TotalSalary.ToString()" />
</MudForm>

@code {
    [Parameter]
    public MortgageItem mortgage { get; set; } = new();

    [Parameter]
    public bool canEdit { get; set; }

    [Parameter]
    public EventCallback onSaveChanges { get; set; }

    private CultureInfo _sv = CultureInfo.CurrentCulture;
}